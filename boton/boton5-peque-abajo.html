<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../sportito-app-theme/sportito-app-theme.html">

<dom-module id="sportito-pa-how-it-works-whatsapp">
  <template>
    <style>
      .container-whats {
        position: relative;
      }

      .container-whats .btnWhatsApp {
        display: none;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        border-radius: 100%;
        padding: 8px;
        height: 25px;
        width: 25px;
        background-color: #25D366;
        text-decoration: none;
        color: #FFFFFF;
        text-align: center;
        line-height: 1;
        position: absolute;
       
        bottom: 1px;
        right: 1px;
        
      }

      .container-whats:hover .btnWhatsApp {
        display: flex;
      }

      .container-whats .btnWhatsApp img {
        display: none;
        max-width: 125%;
        max-height: 125%;
        display: block;
        margin: 0 auto;
      }

      @media (max-width: 768px) {
        .container-whats .btnWhatsApp {
          display: flex;
          /* Show the button on mobile devices */
        }
      }
    </style>
    <div class="container-whats">

      <a on-click="_shareWhatsApp" class="btnWhatsApp">
        <!-- Icono WhatsApp -->
        <img src="../../images/whatsapp-icon/whats2.png" alt="WhatsApp">
      </a>
    </div>
  </template>
  <script>
    Polymer({
      is: "sportito-pa-how-it-works-whatsapp",

      // Only for WhatsApp Mobile
      // _shareWhatsApp: function () {
      //   var text = 'Can you beat my lineup?';
      //   var url = "https://www.sportito.it/pa/register_light"
      //   var whats_app_message = encodeURIComponent(text) + " - " + encodeURIComponent(url);
      //   var whatsapp_url = "whatsapp://send?text=" + whats_app_message;
      //   window.location.href = whatsapp_url;
      // }

      // Only test for WhatsApp Web
      _shareWhatsApp: function () {
        var text = "Can you beat my lineup?";
        var url = "https://www.sportito.it/pa/register_light";
        var encodedText = encodeURIComponent(text);
        var encodedUrl = encodeURIComponent(url);
        var whatsappUrl = "https://web.whatsapp.com/send?text=" + encodedText + " - " + encodedUrl;

        window.open(whatsappUrl, "_blank");
      }

    });
  </script>
</dom-module>